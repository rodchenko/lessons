# Деплой приложения

После того, как приложение или страница готовы, их можно разместить в сети.

Чтобы любой пользователь мог обратиться к вашему сайту (серверу, на котором работает наша программа) у этого сервера должен быть постоянный и глобальный адрес. Доменное имя, (например example.com) это только указатель на IP адрес сервера. Домашние и рабочие сети чаще всего не имеют постоянных адресов, из-за их дифицита. Даже если ваша сеть имеет статичный IP адрес, то ваш компьютер, подключенный к ней, находится за NAT (Network address translation) – это значит, что глобальный адрес всего один на всю сеть и он присваевается входной точке вашей сети (роутеру), и следовательно ваш компьютер имеет только локальный адрес (например 192.168.1.2).

Поэтому существует несколько способов, как разместить программу в сети.

1. Использовать __хостинг статичных файлов__ (static files hosting). Это одна большая машина, которая не выполняет ваш код на сервере, а только отдает статичные файлы. [Cheap or Free Static Website Hosting](http://alignedleft.com/resources/cheap-web-hosting).
2. Использовать __сервер__ (dedicated server) или __виртуальный сервер__ (VPS). В этом случае, вы оплачиваете физическую или виртуальную машину, на которой можете делать все что угодно. Устанавливать любые программы и выполнять любой код. Пример [digitalocean](http://digitalocean.com).
3. __Обратный туннель__. Использовать сервис или ваш собственный DS/VPS, в качестве 'прокси' – приложение будет работать на вашем компьютере, но запросы пользователей будут приходить к другому серверу, находящемуся в публичной сети. Этот сервер будет отправлять запросы к вашему компьютеру, используя _обратный туннель_ – безопасное соединение с вашим компьютером, инициированное вашим компьютером. Пример сервиса: [ngrok.com](https://ngrok.com/download).


### 3. Обратный туннель

Третий вариант, наименее распростанненный, но наиболее подходящий для художественных проектов с небольшим количеством пользователей. Для этого необходимо:

1. Загрузить [ngrok](https://ngrok.com/download)
2. Разархивировать загруженный файл
3. Запустить туннель 8000 порта `~/Downloads/ngrok http 8000`

В командной строке у вас должен отобразиться адрес домена, по которому доступен ваша программа. Например:
```
Forwarding  https://9c36621d.ngrok.io -> localhost:8000
```

Теперь любой подключившийся по этому адресу увидит вашу программу запущенную на этом порту.
Например, мы можем сделать кнопку, которая будет выполнять какую-то функцию на нашем компьютере, например запускать музыку и показывать нотификацию.

```javascript
var express = require('express')
var say = require('say')

var app = express()
app.listen(8000)

app.get('/', function (request, response) {
  // log users headers
  console.log('headers', request.headers)

  // sent text hello to user
  response.send('hello')

  // speak 'New user connected' on the machine
  say.speak('New user connected')
})
```

Полноценный пример приложения [example-remote-call](./example-remote-call) для тестирования обратного туннеля.
